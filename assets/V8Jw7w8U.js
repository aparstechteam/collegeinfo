import{_ as T,a as M}from"./BaQpVtg_.js";import{_ as A}from"./DPXBgDRS.js";import{_ as z,b as F}from"./RKgGHgYo.js";import{r as g,k as O,o as a,c as n,b as t,w as p,d as C,m as d,a as e,t as o,F as k,n as V,x as D,D as S,B as U,C as B,X as j,l as q,q as E}from"./oNfw6FEc.js";import"./CfzaI6i5.js";import"./Crdq2n3E.js";const P={key:0,class:"p-5"},R={class:"text-2xl text-red-500 font-semibold mb-4"},Q={class:"mb-2"},L=e("span",{class:"font-bold"},"EIIN:",-1),X={class:"ml-2"},H={class:"mb-2"},J=e("span",{class:"font-bold"},"District:",-1),K={class:"ml-2"},W={class:"mb-2"},Y=e("span",{class:"font-bold"},"Thana:",-1),Z={class:"ml-2"},ee={class:"mb-2"},se=e("span",{class:"font-bold"},"Board:",-1),te={class:"ml-2"},oe={class:"mb-2"},le=e("span",{class:"font-bold"},"Gender:",-1),ae={class:"ml-2"},ne={class:"rounded overflow-hidden border"},ce={class:"min-w-full bg-white"},de=e("th",{class:"py-2 px-4 bg-gray-200 font-semibold text-sm text-gray-700"},null,-1),ie={class:"py-2 px-4 border-b font-bold"},_e={class:"text-center mt-4"},re={key:1,class:"min-h-[50vh] flex items-center justify-center"},me={__name:"CollegeDetails",props:{college:Object},setup(s){const x=s,{$axios:m}=B(),c=g(!1),i=g(null),y=[{label:"Shift",key:"shift"},{label:"Group",key:"group"},{label:"Version",key:"version"},{label:"Total Seat",key:"total_seats"},{label:"Minimum GPA",key:"min_gpa"},{label:"Own Minimum GPA",key:"own_min_gpa"},{label:"Quota",key:"sq_seats"},{label:"Quota Min GPA",key:"sq_min_gpa"},{label:"Reserved Seat",key:"reserved"}],w=async()=>{try{const _=await m.get(`/colleges/${x.college._id}`);i.value=_.data}catch(_){console.error(_)}};return O(()=>c.value,_=>{_&&w()}),(_,b)=>{const $=S,l=U,u=T;return a(),n(k,null,[t(l,{onClick:b[0]||(b[0]=r=>c.value=!0)},{default:p(()=>[t($,{name:"lucide:info",class:"mr-2"}),C(" Details ")]),_:1}),t(u,{modelValue:d(c),"onUpdate:modelValue":b[1]||(b[1]=r=>D(c)?c.value=r:null),ui:{width:"lg:max-w-2xl"}},{default:p(()=>[d(i)?(a(),n("div",P,[e("h2",R,o(s.college.name),1),e("div",Q,[L,e("span",X,o(s.college.eiin),1)]),e("div",H,[J,e("span",K,o(s.college.district),1)]),e("div",W,[Y,e("span",Z,o(s.college.thana),1)]),e("div",ee,[se,e("span",te,o(s.college.board),1)]),e("div",oe,[le,e("span",ae,o(s.college.gender),1)]),e("div",ne,[e("table",ce,[e("thead",null,[e("tr",null,[de,(a(!0),n(k,null,V(d(i).data,(r,f)=>(a(),n("th",{key:f,class:"py-2 px-4 bg-gray-200 font-semibold text-sm text-gray-700"},o(r.group),1))),128))])]),e("tbody",null,[(a(),n(k,null,V(y,(r,f)=>e("tr",{key:f},[e("td",ie,o(r.label),1),(a(!0),n(k,null,V(d(i).data,v=>(a(),n("td",{key:v._id,class:"py-2 px-4 border-b"},o(v[r.key]),1))),128))])),64))])])]),e("div",_e,[t(l,{to:`/college/${s.college._id}`},{default:p(()=>[C(" Reviews ")]),_:1},8,["to"])])])):(a(),n("div",re,[t(l,null,{default:p(()=>[t($,{name:"lucide:refresh-ccw-dot",class:"animate-spin"})]),_:1})]))]),_:1},8,["modelValue"])],64)}}},ue={class:"bg-white shadow-md rounded-lg p-6"},he={class:"text-2xl font-semibold mb-4"},ge={class:"mb-2"},pe=e("span",{class:"font-bold"},"EIIN:",-1),be={class:"ml-2"},fe={class:"mb-2"},ve=e("span",{class:"font-bold"},"District:",-1),xe={class:"ml-2"},ye={class:"mb-2"},$e=e("span",{class:"font-bold"},"Thana:",-1),ke={class:"ml-2"},we={class:"mb-2"},Ve=e("span",{class:"font-bold"},"Board:",-1),De={class:"ml-2"},Ce={class:"mb-2"},Se=e("span",{class:"font-bold"},"Gender:",-1),Ue={class:"ml-2"},Be={class:"text-right"},Ne={__name:"College",props:{college:Object},setup(s){return(x,m)=>(a(),n("div",ue,[e("div",null,[e("h2",he,o(s.college.name),1),e("div",ge,[pe,e("span",be,o(s.college.eiin),1)]),e("div",fe,[ve,e("span",xe,o(s.college.district),1)]),e("div",ye,[$e,e("span",ke,o(s.college.thana),1)]),e("div",we,[Ve,e("span",De,o(s.college.board),1)]),e("div",Ce,[Se,e("span",Ue,o(s.college.gender),1)]),e("div",Be,[t(me,{college:s.college},null,8,["college"])])])]))}},Ge={class:""},Ie={class:"max-w-xl mx-auto p-5 border space-y-5 rounded-xl"},Te={class:"grid md:grid-cols-2 gap-5"},Me={class:"text-center"},Ae={key:0,class:"max-w-xl mx-auto"},ze={class:"grid gap-5 mt-5"},Re={__name:"search",setup(s){const{$axios:x}=B(),m=g(""),c=g(""),i=g(""),y=g([]),w=g([]),_=g([]),b=async()=>{try{const{data:l}=await x.get("/colleges",{params:{search:m.value,district:c.value,thana:i.value}});y.value=l}catch(l){console.log(l)}};j(m,()=>{b()},{debounce:1e3});const $=async()=>{try{const{data:l}=await x.get("/colleges/filters",{params:{district:c.value}});l.districts.length>0&&(w.value=l.districts),_.value=l.thanas}catch(l){console.log(l)}};return q(()=>{$()}),(l,u)=>{const r=M,f=A,v=z,N=F,G=S,I=U;return a(),n("div",Ge,[t(r),e("div",Ie,[e("div",Te,[t(v,{label:"District"},{default:p(()=>[t(f,{searchable:"","searchable-placeholder":"Search District...",modelValue:d(c),"onUpdate:modelValue":u[0]||(u[0]=h=>D(c)?c.value=h:null),options:d(w),size:"lg",onChange:$,placeholder:"Select District"},null,8,["modelValue","options"])]),_:1}),t(v,{label:"Thana"},{default:p(()=>[t(f,{modelValue:d(i),"onUpdate:modelValue":u[1]||(u[1]=h=>D(i)?i.value=h:null),searchable:"","searchable-placeholder":"Search Thana...",options:d(_),placeholder:"Select Thana",size:"lg"},null,8,["modelValue","options"])]),_:1})]),t(v,{label:"Search College"},{default:p(()=>[t(N,{placeholder:"Search College",size:"lg",modelValue:d(m),"onUpdate:modelValue":u[2]||(u[2]=h=>D(m)?m.value=h:null)},null,8,["modelValue"])]),_:1}),e("div",Me,[t(I,{onClick:b,size:"lg"},{default:p(()=>[t(G,{name:"lucide:search",class:"mr-2"}),C(" Search ")]),_:1})])]),d(y)?(a(),n("div",Ae,[e("div",ze,[(a(!0),n(k,null,V(d(y).data,h=>(a(),n("div",{key:h._id},[t(Ne,{college:h},null,8,["college"])]))),128))])])):E("",!0)])}}};export{Re as default};
