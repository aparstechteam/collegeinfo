import{_ as j,a as L}from"./vRfr3h2W.js";import{_ as P}from"./DjzCvfF-.js";import{_ as W,b as H}from"./CNzy0tHC.js";import{r as u,k as Q,o as a,c as n,b as t,w as v,d as U,m as i,a as e,t as l,F as k,n as D,x as S,D as F,B as G,C as I,M as J,W as K,l as X,$ as Y,q as E}from"./C9TAQPtC.js";import"./CfzaI6i5.js";import"./Crdq2n3E.js";const Z={key:0,class:"p-5"},ee={class:"text-2xl text-red-500 font-semibold mb-4"},te={class:"mb-2"},se=e("span",{class:"font-bold"},"EIIN:",-1),le={class:"ml-2"},oe={class:"mb-2"},ae=e("span",{class:"font-bold"},"District:",-1),ne={class:"ml-2"},ce={class:"mb-2"},ie=e("span",{class:"font-bold"},"Thana:",-1),de={class:"ml-2"},re={class:"mb-2"},_e=e("span",{class:"font-bold"},"Board:",-1),ue={class:"ml-2"},me={class:"mb-2"},he=e("span",{class:"font-bold"},"Gender:",-1),ge={class:"ml-2"},pe={class:"rounded overflow-hidden border"},ve={class:"min-w-full bg-white"},be=e("th",{class:"py-2 px-4 bg-gray-200 font-semibold text-sm text-gray-700"},null,-1),fe={class:"py-2 px-4 border-b font-bold"},xe={class:"text-center mt-4"},ye={key:1,class:"min-h-[50vh] flex items-center justify-center"},$e={__name:"CollegeDetails",props:{college:Object},setup(s){const y=s,{$axios:r}=I(),o=u(!1),d=u(null),m=[{label:"Shift",key:"shift"},{label:"Group",key:"group"},{label:"Version",key:"version"},{label:"Total Seat",key:"total_seats"},{label:"Minimum GPA",key:"min_gpa"},{label:"Own Minimum GPA",key:"own_min_gpa"},{label:"Quota",key:"sq_seats"},{label:"Quota Min GPA",key:"sq_min_gpa"},{label:"Reserved Seat",key:"reserved"}],C=async()=>{try{const g=await r.get(`/colleges/${y.college._id}`);d.value=g.data}catch(g){console.error(g)}};return Q(()=>o.value,g=>{g&&C()}),(g,b)=>{const x=F,_=G,V=j;return a(),n(k,null,[t(_,{onClick:b[0]||(b[0]=h=>o.value=!0)},{default:v(()=>[t(x,{name:"lucide:info",class:"mr-2"}),U(" Details ")]),_:1}),t(V,{modelValue:i(o),"onUpdate:modelValue":b[1]||(b[1]=h=>S(o)?o.value=h:null),ui:{width:"lg:max-w-2xl"}},{default:v(()=>[i(d)?(a(),n("div",Z,[e("h2",ee,l(s.college.name),1),e("div",te,[se,e("span",le,l(s.college.eiin),1)]),e("div",oe,[ae,e("span",ne,l(s.college.district),1)]),e("div",ce,[ie,e("span",de,l(s.college.thana),1)]),e("div",re,[_e,e("span",ue,l(s.college.board),1)]),e("div",me,[he,e("span",ge,l(s.college.gender),1)]),e("div",pe,[e("table",ve,[e("thead",null,[e("tr",null,[be,(a(!0),n(k,null,D(i(d).data,(h,$)=>(a(),n("th",{key:$,class:"py-2 px-4 bg-gray-200 font-semibold text-sm text-gray-700"},l(h.group),1))),128))])]),e("tbody",null,[(a(),n(k,null,D(m,(h,$)=>e("tr",{key:$},[e("td",fe,l(h.label),1),(a(!0),n(k,null,D(i(d).data,w=>(a(),n("td",{key:w._id,class:"py-2 px-4 border-b"},l(w[h.key]),1))),128))])),64))])])]),e("div",xe,[t(_,{to:`/college/${s.college._id}`},{default:v(()=>[U(" Reviews ")]),_:1},8,["to"])])])):(a(),n("div",ye,[t(_,null,{default:v(()=>[t(x,{name:"lucide:refresh-ccw-dot",class:"animate-spin"})]),_:1})]))]),_:1},8,["modelValue"])],64)}}},we={class:"bg-white shadow-md rounded-lg p-6"},ke={class:"text-2xl font-semibold mb-4"},Ce={class:"mb-2"},Ve=e("span",{class:"font-bold"},"EIIN:",-1),De={class:"ml-2"},Se={class:"mb-2"},Ue=e("span",{class:"font-bold"},"District:",-1),Ae={class:"ml-2"},Be={class:"mb-2"},Ne=e("span",{class:"font-bold"},"Thana:",-1),Me={class:"ml-2"},Te={class:"mb-2"},Ee=e("span",{class:"font-bold"},"Board:",-1),Fe={class:"ml-2"},Ge={class:"mb-2"},Ie=e("span",{class:"font-bold"},"Gender:",-1),Oe={class:"ml-2"},ze={class:"text-right"},qe={__name:"College",props:{college:Object},setup(s){return(y,r)=>(a(),n("div",we,[e("div",null,[e("h2",ke,l(s.college.name),1),e("div",Ce,[Ve,e("span",De,l(s.college.eiin),1)]),e("div",Se,[Ue,e("span",Ae,l(s.college.district),1)]),e("div",Be,[Ne,e("span",Me,l(s.college.thana),1)]),e("div",Te,[Ee,e("span",Fe,l(s.college.board),1)]),e("div",Ge,[Ie,e("span",Oe,l(s.college.gender),1)]),e("div",ze,[t($e,{college:s.college},null,8,["college"])])])]))}},Re={class:""},je={class:"max-w-xl mx-auto p-5 border space-y-5 rounded-xl"},Le={class:"grid md:grid-cols-2 gap-5"},Pe={class:"text-center"},We={class:"max-w-xl mx-auto p-5 mt-5 space-y-5 rounded-xl"},He={key:0,class:"text-center text-2xl font-semibold"},Qe={key:1,class:"text-center text-2xl font-semibold"},Je={key:0,class:"max-w-xl mx-auto mb-5"},Ke={class:"grid gap-5 mt-5"},lt={__name:"search",setup(s){const{$axios:y}=I(),r=u(""),o=u(""),d=u(""),m=u([]),C=u([]),g=u([]),b=u(10),x=u(0),_=u(0),V=async()=>{try{let c={limit:b.value,skip:x.value};r.value&&(c.search=r.value),o.value&&o.value!="All"&&(c.district=o.value),d.value&&d.value!=="All"&&(c.thana=d.value);const{data:p}=await y.get("/colleges",{params:c});m.value=[...m.value,...p.colleges],_.value=p.total}catch(c){console.log(c)}},h=()=>{b.value=10,x.value=0,_.value=0,m.value=[],V()},$=J(()=>m.value.length===0&&_.value===0&&(r.value||o.value||d.value));K(r,()=>{h()},{debounce:1e3});const w=async()=>{try{const{data:c}=await y.get("/colleges/filters",{params:{district:o.value}});c.districts.length>0&&(C.value=["All",...c.districts]),g.value=["All",...c.thanas]}catch(c){console.log(c)}},O=()=>{r.value="",o.value="",d.value="",m.value=[],_.value=0},z=()=>{m.value.length<_.value&&(x.value+=b.value,V())},B=()=>{document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&z()};return X(()=>{w(),window.addEventListener("scroll",B)}),Y(()=>{window.removeEventListener("scroll",B)}),(c,p)=>{const q=L,N=P,A=W,R=H,M=F,T=G;return a(),n("div",Re,[t(q),e("div",je,[e("div",Le,[t(A,{label:"District"},{default:v(()=>[t(N,{searchable:"","searchable-placeholder":"Search District...",modelValue:i(o),"onUpdate:modelValue":p[0]||(p[0]=f=>S(o)?o.value=f:null),options:i(C),size:"lg",onChange:w,placeholder:"Select District"},null,8,["modelValue","options"])]),_:1}),t(A,{label:"Thana"},{default:v(()=>[t(N,{modelValue:i(d),"onUpdate:modelValue":p[1]||(p[1]=f=>S(d)?d.value=f:null),searchable:"","searchable-placeholder":"Search Thana...",options:i(g),placeholder:"Select Thana",size:"lg"},null,8,["modelValue","options"])]),_:1})]),t(A,{label:"Search College"},{default:v(()=>[t(R,{placeholder:"Search College",size:"lg",modelValue:i(r),"onUpdate:modelValue":p[2]||(p[2]=f=>S(r)?r.value=f:null)},null,8,["modelValue"])]),_:1}),e("div",Pe,[t(T,{onClick:h,size:"lg"},{default:v(()=>[t(M,{name:"lucide:search",class:"mr-2"}),U(" Search ")]),_:1}),t(T,{onClick:O,size:"lg",color:"red",class:"ml-2"},{default:v(()=>[t(M,{name:"lucide:refresh-ccw",class:"mr-2"}),U(" Reset ")]),_:1})])]),e("div",We,[i(_)?(a(),n("h2",He,l(i(_))+" Colleges Found ",1)):i($)?(a(),n("h2",Qe," No Colleges Found ")):E("",!0)]),i(m)?(a(),n("div",Je,[e("div",Ke,[(a(!0),n(k,null,D(i(m),f=>(a(),n("div",{key:f._id},[t(qe,{college:f},null,8,["college"])]))),128))])])):E("",!0)])}}};export{lt as default};
